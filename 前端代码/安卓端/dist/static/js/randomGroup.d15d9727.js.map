{"version":3,"sources":["webpack:///./src/components/randomPic.vue?a9c2","webpack:///./src/components/randomPic.vue","webpack:///./src/components/randomPic.vue?17c4"],"names":["class","ref","src","current_img","setWallpaper","download","name","flush","size","data","imgAll","methods","getAll","a","get","then","res","index","len","this","length","cid","parseInt","Math","random","dtask","plus","downloader","createDownload","method","filename","d","status","fileSaveUrl","io","convertLocalFileSystemURL","gallery","save","alert","start","setTimeout","WallpaperManager","android","importClass","Main","runtimeMainActivity","wallpaperManager","getInstance","BitmapFactory","bitmap","decodeFile","h","invoke","display","resolutionHeight","resolutionWidth","setBitmap","FLAG_SYSTME","e","console","log","mounted","__exports__","render"],"mappings":"wIAAA,W,4DCCMA,MAAM,SAASC,IAAI,U,aAElBD,MAAM,W,EAEV,eAA6B,OAAxBA,MAAM,WAAU,MAAE,G,EAEvB,eAA6B,OAAxBA,MAAM,WAAU,MAAE,G,GAEnBA,MAAM,S,iFARZ,eAWM,MAXN,EAWM,CAVL,eAA2C,OAArCE,IAAK,EAAAC,YAAaH,MAAM,Y,UAC9B,eAKM,MALN,EAKM,CAJL,eAAqD,OAAhDA,MAAM,UAAW,QAAK,8BAAE,EAAAI,cAAA,EAAAA,aAAA,sBAAc,QAC3C,EACA,eAA+C,OAA1CJ,MAAM,UAAW,QAAK,8BAAE,EAAAK,UAAA,EAAAA,SAAA,sBAAU,MACvC,IAED,eAEM,MAFN,EAEM,CADL,eAAsE,GAA5DC,KAAK,SAAU,QAAO,EAAAC,MAAOP,MAAM,aAAaQ,KAAK,M,qDAOlD,GACdC,KADc,WAEb,MAAO,CACNN,YAAa,GACbO,OAAQ,KAGVC,QAAS,CACRC,OADQ,WACC,WACR,EAAAC,EAAMC,IAAI,sEACRC,MAAK,SAAAC,GACL,EAAKN,OAASM,EAAIP,KAClB,EAAKF,YAGRA,MARQ,WASP,IAAIU,EAAQ,EACRC,EAAMC,KAAKT,OAAOU,OACtB,MAAgB,GAATH,GAAwC,GAA1BE,KAAKT,OAAOO,GAAOI,KAAsC,GAA1BF,KAAKT,OAAOO,GAAOI,IACtEJ,EAAQK,SAAUC,KAAKC,SAAWN,EAAO,GAE1CC,KAAKhB,YAAcgB,KAAKT,OAAOO,GAAOf,KAEvCG,SAhBQ,WAiBP,IAAIoB,EAAQC,KAAKC,WAAWC,eAAeT,KAAKhB,YAAa,CAC5D0B,OAAQ,MACRC,SAAU,cAAgBxB,OACxB,SAASyB,EAAGC,GACd,GAAc,KAAVA,EAAe,CAClB,IAAIC,EAAcP,KAAKQ,GAAGC,0BAA0BJ,EAAED,UACtDJ,KAAKU,QAAQC,KAAKJ,GAAa,WAC9BK,MAAM,gBAGPA,MAAM,WAIRb,EAAMc,SAEPnC,aAjCQ,WAiCO,WAEdoC,YAAW,WACV,IAAIC,EAAmBf,KAAKgB,QAAQC,YAAY,gCAK5CC,GAJSlB,KAAKgB,QAAQC,YAAY,4BACzBjB,KAAKgB,QAAQC,YAAY,4BAC3BjB,KAAKgB,QAAQC,YAAY,0BACvBjB,KAAKgB,QAAQC,YAAY,mCAC3BjB,KAAKgB,QAAQG,uBACpBC,EAAmBL,EAAiBM,YAAYH,GAChDI,EAAgBtB,KAAKgB,QAAQC,YAAY,kCACzClB,EAAQC,KAAKC,WAAWC,eAAe,EAAKzB,YAAa,CAC5D0B,OAAQ,MACRC,SAAU,cAAgBxB,OACxB,SAASyB,EAAGC,GACd,GAAc,KAAVA,EAAe,CAClB,IAAIC,EAAcP,KAAKQ,GAAGC,0BAA0BJ,EAAED,UAClDmB,EAASD,EAAcE,WAAWjB,GAClCkB,EAAIzB,KAAKgB,QAAQU,OAAOH,EAAO,aAC3BvB,KAAKgB,QAAQU,OAAOH,EAAO,YACtBvB,KAAK2B,QAAQC,iBACb5B,KAAK2B,QAAQE,gBAC1B,IACCT,EAAiBU,UAAUP,GAC3BH,EAAiBU,UAAUP,EAAQ,MAAM,EAAMR,EAAiBgB,aAChEnB,MAAM,QACL,MAAMoB,GACPC,QAAQC,IAAIF,GACZpB,MAAM,cAGPA,MAAM,WAIRb,EAAMc,UACL,OAGJsB,QA/Ec,WAgFb1C,KAAKP,W,iCC1FR,MAAMkD,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"static/js/randomGroup.d15d9727.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./randomPic.vue?vue&type=style&index=0&id=3c38b81e&lang=scss\"","<template>\r\n\t<div class=\"random\" ref=\"random\">\r\n\t\t<img :src=\"current_img\" class=\"show_img\" />\r\n\t\t<div class=\"toolBar\">\r\n\t\t\t<div class=\"itemBar\" @click=\"setWallpaper\">设为壁纸</div>\r\n\t\t\t<div class=\"itemBar\">收藏</div>\r\n\t\t\t<div class=\"itemBar\" @click=\"download\">下载</div>\r\n\t\t\t<div class=\"itemBar\">分享</div>\r\n\t\t</div>\r\n\t\t<div class=\"flush\">\r\n\t\t\t<van-icon name=\"replay\" @click=\"flush\" class=\"flush_icon\" size=\"40\" />\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport axios from 'axios'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcurrent_img: '',\r\n\t\t\t\timgAll: []\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetAll() {\r\n\t\t\t\taxios.get('http://42.240.141.211/WallpaperController/queryPhoneAllOrderByTime')\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tthis.imgAll = res.data;\r\n\t\t\t\t\t\tthis.flush();\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tflush() {\r\n\t\t\t\tvar index = 0;\r\n\t\t\t\tvar len = this.imgAll.length;\r\n\t\t\t\twhile (index == 0 || this.imgAll[index].cid == 7 || this.imgAll[index].cid == 8) {\r\n\t\t\t\t\tindex = parseInt((Math.random() * len) + 1);\r\n\t\t\t\t}\r\n\t\t\t\tthis.current_img = this.imgAll[index].src;\r\n\t\t\t},\r\n\t\t\tdownload() {\r\n\t\t\t\tvar dtask = plus.downloader.createDownload(this.current_img, {\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tfilename: '_downloads/' + name\r\n\t\t\t\t}, function(d, status) {\r\n\t\t\t\t\tif (status == 200) {\r\n\t\t\t\t\t\tvar fileSaveUrl = plus.io.convertLocalFileSystemURL(d.filename);\r\n\t\t\t\t\t\tplus.gallery.save(fileSaveUrl, () => {\r\n\t\t\t\t\t\t\talert('保存完成');\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\talert('下载失败');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t//启动下载任务  \r\n\t\t\t\tdtask.start();\r\n\t\t\t},\r\n\t\t\tsetWallpaper() {\r\n\t\t\t\tvar that=this;\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tvar WallpaperManager = plus.android.importClass('android.app.WallpaperManager');\r\n\t\t\t\t\tvar Canvas = plus.android.importClass(' android.graphics.Canvas');\r\n\t\t\t\t\tvar Matrix = plus.android.importClass(' android.graphics.Matrix');\r\n\t\t\t\t\tvar Rect = plus.android.importClass(' android.graphics.Rect');\r\n\t\t\t\t\tvar Config = plus.android.importClass(' android.graphics.Bitmap.Config');\r\n\t\t\t\t\tvar Main = plus.android.runtimeMainActivity();\r\n\t\t\t\t\tvar wallpaperManager = WallpaperManager.getInstance(Main);\r\n\t\t\t\t\tvar BitmapFactory = plus.android.importClass('android.graphics.BitmapFactory');\r\n\t\t\t\t\tvar dtask = plus.downloader.createDownload(this.current_img, {\r\n\t\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\t\tfilename: '_downloads/' + name\r\n\t\t\t\t\t}, function(d, status) {\r\n\t\t\t\t\t\tif (status == 200) {\r\n\t\t\t\t\t\t\tvar fileSaveUrl = plus.io.convertLocalFileSystemURL(d.filename);\r\n\t\t\t\t\t\t\tvar bitmap = BitmapFactory.decodeFile(fileSaveUrl);\r\n\t\t\t\t\t\t\tvar h = plus.android.invoke(bitmap,\"getHeight\");\r\n\t\t\t\t\t\t\tvar w = plus.android.invoke(bitmap,\"getWidth\");\r\n\t\t\t\t\t\t\tvar h0 = h / plus.display.resolutionHeight;\r\n\t\t\t\t\t\t\tvar w0 = h / plus.display.resolutionWidth;\r\n\t\t\t\t\t\t\ttry{\r\n\t\t\t\t\t\t\t\twallpaperManager.setBitmap(bitmap);\r\n\t\t\t\t\t\t\t\twallpaperManager.setBitmap(bitmap, null, true, WallpaperManager.FLAG_SYSTME); \r\n\t\t\t\t\t\t\t\talert('设置成功');\r\n\t\t\t\t\t\t\t} catch(e) {\r\n\t\t\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t\t\t\talert('设置失败');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\talert('下载失败');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t//启动下载任务  \r\n\t\t\t\t\tdtask.start();\r\n\t\t\t\t},100);\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.getAll();\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t@keyframes restart{\r\n\t\tfrom{\r\n\t\t\topacity: 0;\r\n\t\t}\r\n\t\tto{\r\n\t\t\topacity: 1;\r\n\t\t}\r\n\t}\r\n\t.random{\r\n\t\tanimation: restart 1s;\r\n\t}\r\n\t.random {\r\n\t\twidth: 100vw;\r\n\t\theight: 100vh;\r\n\r\n\t\t.show_img {\r\n\t\t\tposition: absolute;\r\n\t\t\tz-index: 10;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t}\r\n\r\n\t\t.toolBar {\r\n\t\t\tposition: fixed;\r\n\t\t\ttop: 5vh;\r\n\t\t\tright: 0vw;\r\n\t\t\twidth: 25vw;\r\n\t\t\theight: 50vh;\r\n\t\t\t// background-color: rgba($color: #000000, $alpha: 0.2);\r\n\t\t\tz-index: 11;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\talign-items: center;\r\n\r\n\t\t\t.itemBar {\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tline-height: 5vh;\r\n\t\t\t\twidth: 80%;\r\n\t\t\t\theight: 5vh;\r\n\t\t\t\tmargin: 1vh 0vw;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tbackground-color: rgba($color: #000, $alpha: 0.5);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.flush {\r\n\t\t\tposition: fixed;\r\n\t\t\tbottom: 7vh;\r\n\t\t\tright: 4vw;\r\n\t\t\twidth: 60px;\r\n\t\t\theight: 60px;\r\n\t\t\tz-index: 10;\r\n\t\t\tbackground-color: rgba($color: #000000, $alpha: 0.6);\r\n\t\t\tcolor: #fff;\r\n\t\t\tborder-radius: 50px;\r\n\r\n\t\t\t.flush_icon {\r\n\t\t\t\tmargin: 8.5px;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\n","import { render } from \"./randomPic.vue?vue&type=template&id=3c38b81e\"\nimport script from \"./randomPic.vue?vue&type=script&lang=js\"\nexport * from \"./randomPic.vue?vue&type=script&lang=js\"\n\nimport \"./randomPic.vue?vue&type=style&index=0&id=3c38b81e&lang=scss\"\n\nimport exportComponent from \"E:\\\\网页设计\\\\ultra\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}