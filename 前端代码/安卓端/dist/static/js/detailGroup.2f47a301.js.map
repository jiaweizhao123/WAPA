{"version":3,"sources":["webpack:///./src/components/sm_show.vue?29d2","webpack:///./src/components/Large_show.vue","webpack:///./src/components/Large_show.vue?622e","webpack:///./src/components/wallpaperList.vue?d5ec","webpack:///./src/components/wallpaperList.vue","webpack:///./src/components/wallpaperList.vue?39b0","webpack:///./src/components/Large_show.vue?98fb","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./src/components/sm_show.vue","webpack:///./src/components/sm_show.vue?4897"],"names":["class","refreshing","onRefresh","loading","finished","finished-text","onLoad","itemList","item","index","key","pid","fit","lazy-load","showImg","src","sm_src","isShow","show-index","start-position","show","images","imgList","onChange","before-close","closeImg","cover","name","size","down","data","cid","currentPage","mounted","this","$route","query","methods","a","get","then","res","length","i","push","setInterval","newIndex","currentImg","console","log","split","slice","downloadIamge","moveFile","fileEntry","dstEntry","moveTo","entry","plus","fullPath","e","alert","message","imgsrc","dtask","downloader","createDownload","method","filename","d","status","fileSaveUrl","io","convertLocalFileSystemURL","gallery","save","start","__exports__","render","title","category","left-arrow","onClickLeft","setup","route","router","flag","path","_defineProperty","obj","value","Object","defineProperty","enumerable","configurable","writable"],"mappings":"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","file":"static/js/detailGroup.2f47a301.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./sm_show.vue?vue&type=style&index=0&id=76f3df28&scoped=true&lang=scss\"","<template>\r\n\t<div class=\"con\">\r\n\t\t<van-pull-refresh v-model=\"refreshing\" @refresh=\"onRefresh\">\r\n\t\t\t<van-list\r\n\t\t\tclass=\"list\"\r\n\t\t\t  v-model:loading=\"loading\"\r\n\t\t\t  :finished=\"finished\"\r\n\t\t\t  finished-text=\"没有更多了\"\r\n\t\t\t  @load=\"onLoad\">\r\n\t\t\t  <div class=\"img_cell\" v-for=\"(item,index) in itemList\" :key=\"item.pid\" >\r\n\t\t\t\t  <van-image\r\n\t\t\t\t  \t\tclass=\"img_show\"\r\n\t\t\t\t  \t\tfit=\"cover\"\r\n\t\t\t\t  \t\tlazy-load\r\n\t\t\t\t  \t\t@click=\"showImg(index)\"\r\n\t\t\t\t  \t\t:src=\"item.sm_src\"\r\n\t\t\t\t  />\r\n\t\t\t  </div>\r\n\t\t\t</van-list>\r\n\t\t\t</van-pull-refresh>\r\n\t\t\t<van-image-preview  class=\"img_item_show\" :show-index=\"false\" :start-position=\"index\" v-if=\"isShow\" v-model:show=\"show\" :images=\"imgList\" @change=\"onChange\" :before-close=\"closeImg\">\r\n\t\t\t  <template v-slot:cover>\r\n\t\t\t\t  <div class=\"todo\">\r\n\t\t\t\t\t  <div class=\"msg\"></div>\r\n\t\t\t\t\t  <div class=\"concelltion\">\r\n\t\t\t\t\t\t  <van-icon name=\"like-o\" size=\"6vw\"></van-icon>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div class=\"download\" @click=\"down\">\r\n\t\t\t\t\t\t  <van-icon name=\"down\" size=\"6vw\"></van-icon>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div class=\"share\">\r\n\t\t\t\t\t\t  <van-icon name=\"share-o\" size=\"6vw\"></van-icon>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div class=\"more\">\r\n\t\t\t\t\t\t  <van-icon name=\"ellipsis\" size=\"6vw\"></van-icon>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t  </div>\r\n\t\t\t  </template>\r\n\t\t\t</van-image-preview>\r\n\t</div>\n</template>\n\n<script>\r\n\timport { ref,onMounted,reactive,toRefs } from 'vue';\r\n\timport {useRoute,useRouter} from 'vue-router';\r\n\timport axios from 'axios';\r\n\timport { Image as VanImage,Lazyload,List,ImagePreview,PullRefresh  } from 'vant';\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tcid:'',\r\n\t\t\t\titemList:[],\r\n\t\t\t\timgList:[],\r\n\t\t\t\tcurrentPage:0,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tfinished: false,\r\n\t\t\t\tshow:true,\r\n\t\t\t\trefreshing:false,\r\n\t\t\t\tindex:0,\r\n\t\t\t\tisShow: false,\r\n\t\t\t\timgList: [],\r\n\t\t\t\tindex:0\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.cid = this.$route.query.cid;\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tonLoad(){\r\n\t\t\t\taxios.get('http://42.240.141.211/WallpaperController/queryByCategoryOrderByTime?cid='+this.cid+'&currentPage='+this.currentPage)\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tif(res.data.length == 0){\r\n\t\t\t\t\t\t\t this.loading = false;\r\n\t\t\t\t\t\t\t this.finished = true;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tfor(var i = 0 ; i < res.data.length; i++){\r\n\t\t\t\t\t\t\t\tthis.itemList.push(res.data[i]);\r\n\t\t\t\t\t\t\t\tthis.imgList.push(res.data[i].src);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t\t\tthis.currentPage = this.currentPage + 1;\r\n\t\t\t\t\t\t\tsetInterval( ()=> {\r\n\t\t\t\t\t\t\t\tif(this.itemList.length>0){\r\n\t\t\t\t\t\t\t\t\tthis.refreshing = false;\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonChange(newIndex){\r\n\t\t\t\tthis.currentImg = newIndex;\r\n\t\t\t},\r\n\t\t\tonRefresh(){\r\n\t\t\t\tthis.finished = false;\r\n\t\t\t\tthis.itemList.length = 0;\t\r\n\t\t\t\t// 重新加载数据\r\n\t\t\t\t// 将 loading 设置为 true，表示处于加载状态\r\n\t\t\t\tthis.loading = true;\r\n\t\t\t\tthis.currentPage = 0;\r\n\t\t\t\tthis.onLoad();\r\n\t\t\t},\r\n\t\t\tcloseImg(){\r\n\t\t\t\tthis.isShow = !this.isShow;\r\n\t\t\t},\r\n\t\t\tshowImg(index){\r\n\t\t\t  this.index = index;\r\n\t\t\t  this.isShow = !this.isShow;\r\n\t\t\t  return false;\r\n\t\t\t},\r\n\t\t\tdown(){\r\n\t\t\t\tconsole.log(this.imgList[this.index]);\r\n\t\t\t\tvar name = this.imgList[this.index].split('/').slice(-1)[0];\r\n\t\t\t\tthis.downloadIamge(this.imgList[this.index],name);\r\n\t\t\t}, \r\n\t\t\tmoveFile(fileEntry,dstEntry){\r\n\t\t\t\t// move the file to a new directory and rename it\r\n\t\t\t\tfileEntry.moveTo( dstEntry, \"newfile.txt\", function( entry ){\r\n\t\t\t\t\tplus.console.log(\"New Path: \" + entry.fullPath);\r\n\t\t\t\t}, function( e ){\r\n\t\t\t\t\talert( e.message );\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t\tdownloadIamge(imgsrc, name) {\r\n\t\t\t\tvar relativePath = \"/Pictures/WAPA/\"+name;\r\n\t\t\t\tvar dtask = plus.downloader.createDownload(imgsrc, {\r\n\t\t\t\t\tmethod:'GET',\r\n\t\t\t\t\tfilename:'_downloads/'+name\r\n\t\t\t\t}, function(d, status) {  \r\n\t\t\t\t                if (status == 200) {  \r\n\t\t\t\t                   var fileSaveUrl = plus.io.convertLocalFileSystemURL(d.filename);\r\n\t\t\t\t                   plus.gallery.save(fileSaveUrl,() => {\r\n\t\t\t\t                   \talert('保存完成');\r\n\t\t\t\t                   })\r\n\t\t\t\t\t\t\t\t\t// plus.io.moveTo('/Pictures/WAPA/',name,() => {\r\n\t\t\t\t\t\t\t\t\t// \talert('移动成功');\r\n\t\t\t\t\t\t\t\t\t// },() => {\r\n\t\t\t\t\t\t\t\t\t// \talert('移动失败');\r\n\t\t\t\t\t\t\t\t\t// });\r\n\t\t\t\t\t\t\t\t\t// var fileSaveUrl = plus.io.convertLocalFileSystemURL(d.filename);\r\n\t\t\t\t\t\t\t\t\t//  console.log(fileSaveUrl);\r\n\t\t\t\t\t\t\t\t\t//  plus.io.requestFileSystem( plus.io.PUBLIC_DOWNLOADS, function(fs){\r\n\t\t\t\t\t\t\t\t\t// \tplus.io.getFile(name,{create::true},function(fileEntry){\r\n\t\t\t\t\t\t\t\t\t// \t\tfileEntry.getDirectory()\r\n\t\t\t\t\t\t\t\t\t// \t\tmoveFile(fileEntry,)\r\n\t\t\t\t\t\t\t\t\t// \t},(e) => {\r\n\t\t\t\t\t\t\t\t\t// \t\talert(e.message);\r\n\t\t\t\t\t\t\t\t\t// \t}) \r\n\t\t\t\t\t\t\t\t\t//  }\r\n\t\t\t\t\t\t\t\t} else { \r\n\t\t\t\t                    alert('下载失败');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t            });\r\n\t\t\t\t            //启动下载任务  \r\n\t\t\t\t            dtask.start();  \r\n\t\t\t},\r\n\t\t},\r\n\t}\n</script>\n\n<style scoped lang=\"scss\">\r\n\t.img_show{\r\n\t\twidth: 100%;\r\n\t\theight:  100%;\r\n\t\tpadding: 0vh 0vw;\r\n\t}\r\n\t.img_cell{\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 100%;\r\n\t\theight:  32vh;\r\n\t\tmargin: 0 0.2vw;\r\n\t\tmargin-top: -0.4vh;\r\n\t\tpadding: 0;\r\n\t}\r\n\t.list{\r\n\t\tletter-spacing: 0;\r\n\t}\r\n\t.todo{\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\twidth: 100vw;\r\n\t\theight: 7vh;\r\n\t\tline-height: 7vh;\r\n\t\tcolor: #fff;\r\n\t\t background-color:rgba(0, 0, 0, 0.6);\r\n\t\tz-index: 999;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\t.msg{\r\n\t\t\tflex: 4;\r\n\t\t\ttext-align: center;\r\n\t\t}\r\n\t\t.concelltion{\r\n\t\t\tflex: 1;\r\n\t\t\ttext-align: center;\r\n\t\t}\r\n\t\t.download{\r\n\t\t\ttext-align: center;\r\n\t\t\tflex: 1;\r\n\t\t}\r\n\t\t.share{\r\n\t\t\ttext-align: center;\r\n\t\t\tflex:1;\r\n\t\t}\r\n\t\t.more{\r\n\t\t\tflex: 1;\r\n\t\t\ttext-align: center;\r\n\t\t}\r\n\t}\r\n\t.img_item_show{\r\n\t\tz-index: 11;\r\n\t}\n</style>\n","import { render } from \"./Large_show.vue?vue&type=template&id=8519d1c0&scoped=true\"\nimport script from \"./Large_show.vue?vue&type=script&lang=js\"\nexport * from \"./Large_show.vue?vue&type=script&lang=js\"\n\nimport \"./Large_show.vue?vue&type=style&index=0&id=8519d1c0&scoped=true&lang=scss\"\n\nimport exportComponent from \"E:\\\\网页设计\\\\ultra\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8519d1c0\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./wallpaperList.vue?vue&type=style&index=0&id=bd8246fa&scoped=scoped&lang=scss\"","<template>\r\n\t<div class=\"con\">\r\n\t\t<van-nav-bar\r\n\t\t  class=\"navBar\"\r\n\t\t  :title=\"category\"\r\n\t\t  left-arrow\r\n\t\t  @click-left=\"onClickLeft\"\r\n\t\t/>\r\n\t\t<router-view></router-view>\r\n\t</div>\n</template>\n\n<script>\r\n\timport { reactive,toRefs } from 'vue';\r\n\timport {useRoute,useRouter} from 'vue-router';\r\n\timport { NavBar } from 'vant';\r\n\texport default{\r\n\t\tsetup(){\r\n\t\t\tconst route = useRoute();\r\n\t\t\tconst router = useRouter();\r\n\t\t\tconst category = route.query.category;\r\n\t\t\tconst flag = route.query.flag;\r\n\t\t\tconst cid = route.query.cid;\r\n\t\t\tif(flag == 1){\r\n\t\t\t\trouter.push({path:'/detail/smshow', query:{category:category,cid:cid}})\r\n\t\t\t}else{\r\n\t\t\t\trouter.push({path:'/detail/lgshow', query:{category:category,cid:cid}})\r\n\t\t\t}\r\n\t\t\tconst onClickLeft = () => {\r\n\t\t\t\trouter.push({path:'/home'});\r\n\t\t\t};\r\n\t\t\tconsole.log(category)\r\n\t\t\treturn {\r\n\t\t\t\tcategory,\r\n\t\t\t\tonClickLeft,\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t\r\n\t\t}\r\n\t}\n</script>\n\n<style scoped=\"scoped\" lang=\"scss\">\r\n\t.navBar{\r\n\t\tbackground-color: #000000;\r\n\t\t--van-nav-bar-title-text-color: #fff;\r\n\t\t--van-nav-bar-text-color: #fff;\r\n\t\t--van-nav-bar-icon-color: #fff;\r\n\t\t--van-nav-bar-z-index: 9;\r\n\t}\n</style>\n","import { render } from \"./wallpaperList.vue?vue&type=template&id=bd8246fa&scoped=true\"\nimport script from \"./wallpaperList.vue?vue&type=script&lang=js\"\nexport * from \"./wallpaperList.vue?vue&type=script&lang=js\"\n\nimport \"./wallpaperList.vue?vue&type=style&index=0&id=bd8246fa&scoped=scoped&lang=scss\"\n\nimport exportComponent from \"E:\\\\网页设计\\\\ultra\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-bd8246fa\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Large_show.vue?vue&type=style&index=0&id=8519d1c0&scoped=true&lang=scss\"","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","<template>\r\n\t<div class=\"con\">\r\n\t\t<van-pull-refresh v-model=\"refreshing\" @refresh=\"onRefresh\">\r\n\t\t\t<van-list\r\n\t\t\tclass=\"list\"\r\n\t\t\t  v-model:loading=\"loading\"\r\n\t\t\t  :finished=\"finished\"\r\n\t\t\t  finished-text=\"没有更多了\"\r\n\t\t\t  @load=\"onLoad\">\r\n\t\t\t  <div class=\"img_cell\" v-for=\"(item,index) in itemList\" :key=\"item.pid\" >\r\n\t\t\t\t  <van-image\r\n\t\t\t\t  \t\tclass=\"img_show\"\r\n\t\t\t\t  \t\tfit=\"cover\"\r\n\t\t\t\t  \t\tlazy-load\r\n\t\t\t\t  \t\t@click=\"showImg(index)\"\r\n\t\t\t\t  \t\t:src=\"item.sm_src\"\r\n\t\t\t\t  />\r\n\t\t\t  </div>\r\n\t\t\t</van-list>\r\n\t\t\t</van-pull-refresh>\r\n\t\t\t<van-image-preview  class=\"img_item_show\" :show-index=\"false\" :start-position=\"index\" v-if=\"isShow\" v-model:show=\"show\" :images=\"imgList\" @change=\"onChange\" :before-close=\"closeImg\">\r\n\t\t\t  <template v-slot:cover>\r\n\t\t\t\t  <div class=\"todo\">\r\n\t\t\t\t\t  <div class=\"msg\"></div>\r\n\t\t\t\t\t  <div class=\"concelltion\">\r\n\t\t\t\t\t\t  <van-icon name=\"like-o\" size=\"6vw\"></van-icon>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div class=\"download\" @click=\"down\">\r\n\t\t\t\t\t\t  <van-icon name=\"down\" size=\"6vw\"></van-icon>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div class=\"share\">\r\n\t\t\t\t\t\t  <van-icon name=\"share-o\" size=\"6vw\"></van-icon>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div class=\"more\">\r\n\t\t\t\t\t\t  <van-icon name=\"ellipsis\" size=\"6vw\"></van-icon>\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t  </div>\r\n\t\t\t  </template>\r\n\t\t\t</van-image-preview>\r\n\t</div>\n</template>\n\n<script>\r\n\timport { ref,onMounted,reactive,toRefs } from 'vue';\r\n\timport {useRoute,useRouter} from 'vue-router';\r\n\timport axios from 'axios';\r\n\timport { Image as VanImage,Lazyload,List,ImagePreview,PullRefresh  } from 'vant';\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tcid:'',\r\n\t\t\t\titemList:[],\r\n\t\t\t\timgList:[],\r\n\t\t\t\tcurrentPage:0,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tfinished: false,\r\n\t\t\t\tshow:true,\r\n\t\t\t\trefreshing:false,\r\n\t\t\t\tindex:0,\r\n\t\t\t\tisShow: false,\r\n\t\t\t\timgList: [],\r\n\t\t\t\tindex:0,\r\n\t\t\t\tvalue: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.cid = this.$route.query.cid;\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tonLoad(){\r\n\t\t\t\tif(this.$route.query.cid != null){\r\n\t\t\t\t\taxios.get('http://42.240.141.211/WallpaperController/queryPhoneByCategoryOrderByTime?cid='+this.cid+'&currentPage='+this.currentPage)\r\n\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\tif(res.data.length == 0){\r\n\t\t\t\t\t\t\t\t this.loading = false;\r\n\t\t\t\t\t\t\t\t this.finished = true;\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tfor(var i = 0 ; i < res.data.length; i++){\r\n\t\t\t\t\t\t\t\t\tthis.itemList.push(res.data[i]);\r\n\t\t\t\t\t\t\t\t\tthis.imgList.push(res.data[i].src);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t\t\t\tthis.currentPage = this.currentPage + 1;\r\n\t\t\t\t\t\t\t\tsetInterval( ()=> {\r\n\t\t\t\t\t\t\t\t\tif(this.itemList.length>0){\r\n\t\t\t\t\t\t\t\t\t\tthis.refreshing = false;\r\n\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.value = this.$route.query.category;\r\n\t\t\t\t\tconsole.log('http://42.240.141.211/WallpaperController/searchPhoneByKeyWord?keyword='+this.value+'currentPage='+this.currentPage);\r\n\t\t\t\t\taxios.get('http://42.240.141.211/WallpaperController/searchPhoneByKeyWord?keyword='+this.value+'&currentPage='+this.currentPage)\r\n\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\tif(res.data.length == 0){\r\n\t\t\t\t\t\t\t\t this.loading = false;\r\n\t\t\t\t\t\t\t\t this.finished = true;\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tfor(var i = 0 ; i < res.data.length; i++){\r\n\t\t\t\t\t\t\t\t\tthis.itemList.push(res.data[i]);\r\n\t\t\t\t\t\t\t\t\tthis.imgList.push(res.data[i].src);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t\t\t\tthis.currentPage = this.currentPage + 1;\r\n\t\t\t\t\t\t\t\tsetInterval( ()=> {\r\n\t\t\t\t\t\t\t\t\tif(this.itemList.length>0){\r\n\t\t\t\t\t\t\t\t\t\tthis.refreshing = false;\r\n\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},2000)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonChange(newIndex){\r\n\t\t\t\tthis.currentImg = newIndex;\r\n\t\t\t},\r\n\t\t\tonRefresh(){\r\n\t\t\t\tthis.finished = false;\r\n\t\t\t\tthis.itemList.length = 0;\t\r\n\t\t\t\t// 重新加载数据\r\n\t\t\t\t// 将 loading 设置为 true，表示处于加载状态\r\n\t\t\t\tthis.loading = true;\r\n\t\t\t\tthis.currentPage = 0;\r\n\t\t\t\tthis.onLoad();\r\n\t\t\t},\r\n\t\t\tcloseImg(){\r\n\t\t\t\tthis.isShow = !this.isShow;\r\n\t\t\t},\r\n\t\t\tshowImg(index){\r\n\t\t\t  this.index = index;\r\n\t\t\t  this.isShow = !this.isShow;\r\n\t\t\t  return false;\r\n\t\t\t},\r\n\t\t\tdown(){\r\n\t\t\t\tconsole.log(this.imgList[this.index]);\r\n\t\t\t\tvar name = this.imgList[this.index].split('/').slice(-1)[0];\r\n\t\t\t\tthis.downloadIamge(this.imgList[this.index],name);\r\n\t\t\t}, \r\n\t\t\tmoveFile(fileEntry,dstEntry){\r\n\t\t\t\t// move the file to a new directory and rename it\r\n\t\t\t\tfileEntry.moveTo( dstEntry, \"newfile.txt\", function( entry ){\r\n\t\t\t\t\tplus.console.log(\"New Path: \" + entry.fullPath);\r\n\t\t\t\t}, function( e ){\r\n\t\t\t\t\talert( e.message );\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t\tdownloadIamge(imgsrc, name) {\r\n\t\t\t\tvar relativePath = \"/Pictures/WAPA/\"+name;\r\n\t\t\t\tvar dtask = plus.downloader.createDownload(imgsrc, {\r\n\t\t\t\t\tmethod:'GET',\r\n\t\t\t\t\tfilename:'_downloads/'+name\r\n\t\t\t\t}, function(d, status) {  \r\n\t\t\t\t                if (status == 200) {\r\n\t\t\t\t\t\t\t\t\tvar fileSaveUrl = plus.io.convertLocalFileSystemURL(d.filename);\r\n\t\t\t\t\t\t\t\t\tplus.gallery.save(fileSaveUrl,() => {\r\n\t\t\t\t\t\t\t\t\t\talert('保存完成');\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t// var environment = plus.android.importClass('android.os.Environment');\r\n\t\t\t\t\t\t\t\t\t// var sdRoot = environment.getExternalStorageDirectory();\r\n\t\t\t\t\t\t\t\t\t// var File = plus.android.importClass('java.io.File');\r\n\t\t\t\t\t\t\t\t\t// var fileIn = plus.android.importClass('java.io.FileInputStream');\r\n\t\t\t\t\t\t\t\t\t// var fileOut = plus.android.importClass('java.io.FileOutputStream');\r\n\t\t\t\t\t\t\t\t\t// // var inStream = plus.android.importClass('java.io.InputStream');\r\n\t\t\t\t\t\t\t\t\t// // var out = plus.android.importClass('java.io.OutputStream');\r\n\t\t\t\t\t\t\t\t\t// console.log(sdRoot+'/Pictures/WAPA');\r\n\t\t\t\t\t\t\t\t\t// var fd = new File(sdRoot+'/Pictures/WAPA');\r\n\t\t\t\t\t\t\t\t\t// var byte = plus.android.importClass('java.lang.Byte');\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t// var temp = new File(fileSaveUrl);\r\n\t\t\t\t\t\t\t\t\t// if(!fd.exists()){\r\n\t\t\t\t\t\t\t\t\t// \tfd.mkdirs();\r\n\t\t\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\t\t\t// streamFrom = new fileIn(fileSaveUrl);\r\n\t\t\t\t\t\t\t\t\t// streamTo = new fileOut(fd+'/'+name);\r\n\t\t\t\t\t\t\t\t\t// var len = 0;\r\n\t\t\t\t\t\t\t\t\t// while((len = streamFrom.read()) != -1){\r\n\t\t\t\t\t\t\t\t\t// \tstreamTo.write(len);\r\n\t\t\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\t\t\t// streamFrom.close();\r\n\t\t\t\t\t\t\t\t\t// streamTo.close();\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t} else { \r\n\t\t\t\t                    alert('下载失败');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t            });\r\n\t\t\t\t            //启动下载任务  \r\n\t\t\t\t            dtask.start();  \r\n\t\t\t},\r\n\t\t},\r\n\t}\n</script>\n<style scoped lang=\"scss\">\r\n\t.img_show{\r\n\t\twidth: 100%;\r\n\t\theight:  100%;\r\n\t\tpadding: 0vh 0vw;\r\n\t}\r\n\t.img_cell{\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 32.93vw;\r\n\t\theight:  32vh;\r\n\t\tmargin: 0 0.2vw;\r\n\t\tmargin-top: -0.4vh;\r\n\t\tpadding: 0;\r\n\t}\r\n\t.list{\r\n\t\tletter-spacing: 0;\r\n\t}\r\n\t.todo{\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\twidth: 100vw;\r\n\t\theight: 7vh;\r\n\t\tline-height: 7vh;\r\n\t\tcolor: #fff;\r\n\t\t background-color:rgba(0, 0, 0, 0.6);\r\n\t\tz-index: 999;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\t.msg{\r\n\t\t\tflex: 4;\r\n\t\t\ttext-align: center;\r\n\t\t}\r\n\t\t.concelltion{\r\n\t\t\tflex: 1;\r\n\t\t\ttext-align: center;\r\n\t\t}\r\n\t\t.download{\r\n\t\t\ttext-align: center;\r\n\t\t\tflex: 1;\r\n\t\t}\r\n\t\t.share{\r\n\t\t\ttext-align: center;\r\n\t\t\tflex:1;\r\n\t\t}\r\n\t\t.more{\r\n\t\t\tflex: 1;\r\n\t\t\ttext-align: center;\r\n\t\t}\r\n\t}\r\n\t.img_item_show{\r\n\t\tz-index: 11;\r\n\t}\n</style>\n","import { render } from \"./sm_show.vue?vue&type=template&id=76f3df28&scoped=true\"\nimport script from \"./sm_show.vue?vue&type=script&lang=js\"\nexport * from \"./sm_show.vue?vue&type=script&lang=js\"\n\nimport \"./sm_show.vue?vue&type=style&index=0&id=76f3df28&scoped=true&lang=scss\"\n\nimport exportComponent from \"E:\\\\网页设计\\\\ultra\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-76f3df28\"]])\n\nexport default __exports__"],"sourceRoot":""}