(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["randomGroup"],{"1b76":function(i,a,t){},"664b":function(i,a,t){"use strict";t("1b76")},7563:function(i,a,t){"use strict";t.r(a);var l=t("7a23"),n={class:"random",ref:"random"},e=["src"],r={class:"toolBar"},s=Object(l["i"])("div",{class:"itemBar"},"收藏",-1),o=Object(l["i"])("div",{class:"itemBar"},"分享",-1),c={class:"flush"};function d(i,a,t,d,u,p){var m=Object(l["I"])("van-icon");return Object(l["B"])(),Object(l["h"])("div",n,[Object(l["i"])("img",{src:u.current_img,class:"show_img"},null,8,e),Object(l["i"])("div",r,[Object(l["i"])("div",{class:"itemBar",onClick:a[0]||(a[0]=function(){return p.setWallpaper&&p.setWallpaper.apply(p,arguments)})},"设为壁纸"),s,Object(l["i"])("div",{class:"itemBar",onClick:a[1]||(a[1]=function(){return p.download&&p.download.apply(p,arguments)})},"下载"),o]),Object(l["i"])("div",c,[Object(l["k"])(m,{name:"replay",onClick:p.flush,class:"flush_icon",size:"40"},null,8,["onClick"])])],512)}var u=t("bc3a"),p=t.n(u),m={data:function(){return{current_img:"",imgAll:[]}},methods:{getAll:function(){var i=this;p.a.get("http://42.240.141.211/WallpaperController/queryPhoneAllOrderByTime").then((function(a){i.imgAll=a.data,i.flush()}))},flush:function(){var i=0,a=this.imgAll.length;while(0==i||7==this.imgAll[i].cid||8==this.imgAll[i].cid)i=parseInt(Math.random()*a+1);this.current_img=this.imgAll[i].src},download:function(){var i=plus.downloader.createDownload(this.current_img,{method:"GET",filename:"_downloads/"+name},(function(i,a){if(200==a){var t=plus.io.convertLocalFileSystemURL(i.filename);plus.gallery.save(t,(function(){alert("保存完成")}))}else alert("下载失败")}));i.start()},setWallpaper:function(){var i=this;setTimeout((function(){var a=plus.android.importClass("android.app.WallpaperManager"),t=(plus.android.importClass(" android.graphics.Canvas"),plus.android.importClass(" android.graphics.Matrix"),plus.android.importClass(" android.graphics.Rect"),plus.android.importClass(" android.graphics.Bitmap.Config"),plus.android.runtimeMainActivity()),l=a.getInstance(t),n=plus.android.importClass("android.graphics.BitmapFactory"),e=plus.downloader.createDownload(i.current_img,{method:"GET",filename:"_downloads/"+name},(function(i,t){if(200==t){var e=plus.io.convertLocalFileSystemURL(i.filename),r=n.decodeFile(e),s=plus.android.invoke(r,"getHeight");plus.android.invoke(r,"getWidth"),plus.display.resolutionHeight,plus.display.resolutionWidth;try{l.setBitmap(r),l.setBitmap(r,null,!0,a.FLAG_SYSTME),alert("设置成功")}catch(o){console.log(o),alert("设置失败")}}else alert("下载失败")}));e.start()}),100)}},mounted:function(){this.getAll()}},h=(t("664b"),t("6b0d")),f=t.n(h);const g=f()(m,[["render",d]]);a["default"]=g}}]);
//# sourceMappingURL=randomGroup.d15d9727.js.map